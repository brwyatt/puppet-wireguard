# This file is managed by puppet
[Interface]
<% if @address.is_a? Array -%>
    <%- @address.flatten.each do |adr| -%>
Address = <%= adr %>
    <%- end -%>
<%- else -%>
Address = <%= @address %>
<%- end -%>
<% if @saveconfig -%>
SaveConfig = true
<% end -%>
PrivateKey = <%= @private_key %>
<%- if @listen_port -%>
ListenPort = <%= @listen_port %>
<% end -%>
<%- if @dns.is_a? String -%>
DNS = <%= @dns %>
<%- elsif @dns.is_a? Array -%>
DNS = <%= @dns.join(',') %>
<%- end -%>
<%# PreUp -%>
<%- if @preup.is_a? String -%>
PreUp = <%= @preup %>
<%- elsif @preup.is_a? Array -%>
PreUp = <%= @preup.join(';') %>
<%- end -%>
<%# PostUp -%>
<%- if @postup.is_a? String -%>
PostUp = <%= @postup %>
<%- elsif @postup.is_a? Array -%>
PostUp = <%= @postup.join(';') %>
<%- end -%>
<%# PreDown -%>
<%- if @predown.is_a? String -%>
PreDown = <%= @predown %>
<%- elsif @predown.is_a? Array -%>
PreDown = <%= @predown.join(';') %>
<%- end -%>
<%# PostDown -%>
<%- if @postdown.is_a? String -%>
PostDown = <%= @postdown %>
<%- elsif @postdown.is_a? Array -%>
PostDown = <%= @postdown.join(';') %>
<%- end -%>
<%- if @peers -%>

# Peers
    <%- @peers.each do |peer| -%>
[Peer]
        <%- peer.each do |key,value| -%>
<%= key %> = <%= value %>
        <%- end %>
    <%- end -%>
<%- end -%>
